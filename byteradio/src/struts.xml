<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <constant name="struts.enable.DynamicMethodInvocation" value="false" />
    <constant name="struts.devMode" value="false" />
    <constant name="struts.action.extension" value="py" />
    <constant name="struts.objectFactory" value="spring" />
    <constant name="struts.i18n.encoding" value="UTF-8" />
    <constant name="struts.locale" value="zh_CN" />
    <constant name="struts.multipart.maxSize" value="5000000"/>

    <package name="workflow" extends="tiles-default" namespace="/workflow">
        <interceptors><!-- /注册拦截器/ -->
            <interceptor name="basic" class="org.hb0712.learn.struts2.BasicInterceptor"></interceptor>
            <interceptor-stack name="projectStack"><!-- /拦截器堆栈/ -->
                <interceptor-ref name="basic"/>
                <interceptor-ref name="defaultStack"/>
            </interceptor-stack>
        </interceptors>
        
        <default-interceptor-ref name="projectStack"></default-interceptor-ref>
        
        <action name="imageindex">
            <result>/WEB-INF/Text.jsp</result>
        </action>
        <action name="imageUpload" class="org.hb0712.workflow.action.WorkflowAction" method="view">
            <result name="success">/WEB-INF/Text.jsp</result>
        </action>
        <action name="view" class="workflowAction" method="view">
            <result name="success" type="tiles">stat</result>
        </action>
        <action name="view2" class="workAction" method="view">
            <result name="success">/WEB-INF/workflow/view2.jsp</result>
        </action>
    </package>

    <package name="ajax" extends="json-default" namespace="/ajax">
        <action name="search" class="org.hb0712.workflow.action.WorkflowAction" method="search">
            <result type="json">
                <param name="root">dataMap</param>
            </result>
        </action>
    </package>

    <package name="customer" extends="tiles-default" namespace="/customer">
        <action name="view" class="org.hb0712.workflow.action.WorkflowAction" method="view">
            <result name="success" type="tiles">customer.view</result>
        </action>
    </package>

    <package name="home" extends="tiles-default" namespace="/">
        <action name="test" class="org.hb0712.workflow.action.WorkflowAction" method="view">
            <result name="success" type="tiles">test</result>
        </action>
    </package>

    <package name="contacts" extends="tiles-default" namespace="/contacts">
        <action name="view" class="workAction" method="view">
            <result name="success" type="tiles">contact.view</result>
        </action>
    </package>
</struts>